{% include "header.html" %}
<section class="intro">
  <div class="container-fluid">
        <div class="row">
        <div class="col-lg-4">
          <h3>filters</h3>
          <form class="" action="{{url_for('filter')}}" method="post">
            <div class="col-auto">
              <label for="min-price" class="form-label" >Min price</label>
              <input id="min-price" type="number" class="form-control" value="{{session['min']}}" name="min">
            </div>
            <div class="col-auto">
              <label for="max-price" class="form-label">Max price</label>
              <input id="max-price" type="number" class="form-control" value="{{session['max']}}", name="max">
            </div>
            <div class="form-check">
              <h4>Category</h4>
              <input class="form-check-input" type="radio" name="flexRadioDefault" value="Laptop">
              <label class="form-check-label" for="flexRadioDefault1">
                Laptops
              </label>
            </div>
            <div class="form-check">
              <input class="form-check-input" type="radio" name="flexRadioDefault"  value="Phone" checked>
              <label class="form-check-label" for="flexRadioDefault2">
                Phones
              </label>
            </div>
            <button type="submit" value="submit" class="btn btn-outline-success" name = "submit_btn">Apply</button>
          </form>
        </div>

        <div class="col-lg-8">
          Intro placeholder
        </div>
      </div>
    </div>

</section>

<section class="laptop-display">
  <div class="row">
    {%for product in prods:%}
    
    <div class="col">
      <div class="card" style="width: 18rem;">
        <img src="{{product.img_url}}" class="card-img-top" alt="...">
        <div class="card-body">
          <h5 class="card-title">{{product.product_name}}</h5>
          <p class="card-text">{{product.product_description}}</p>
        </div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item">Price: {{product.price}}</li>
          <li class="list-group-item">Category: {{product.category}}</li>
          
          {%if product.quantity > 0:%}
          <li class="list-group-item">Quantity left: {{product.quantity}}</li>
          <li class="list-group-item">
                <form class="" action="{{url_for('add_to_cart', prod_id=product.id)}}" method="post">
                  <div class=""></div>
                  <label for="cart-item">Qty</label>
                  <input style="width: 20%;" type="number" name="quantity" id="cart-item" min="1" required>
                  <input class="" type="submit" value="Add to cart">
                </form>
          </li>
        
        </ul>
        {%else%}
        <li class="list-group-item">Quanity left: Out of Stock</li>
        </ul>
        {%endif%}
      </div>
    </div>
    {%endfor%}
  </div>
</section>

<div>
{%for page_num in pages.iter_pages(left_edge=1, right_edge=1, left_current=1, right_current=2): %}
  {%if page_num:%}
    {%if pages.page == page_num:%}

      <a class="btn btn-dark mb-2" href="{{url_for(page_url, page=page_num)}}">{{page_num}}</a>
    {%else:%}
      <a class="btn btn-outline-dark mb-2" href="{{url_for(page_url, page=page_num)}}">{{page_num}}</a>
    {%endif%}
  {%else:%}
    ...
  {%endif%}
{%endfor%}
</div>
{% include "footer.html" %}

